<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Rydra: A Lite, Hydra-Inspired Configuration Package for R — Rydra-package • Rydra</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Rydra: A Lite, Hydra-Inspired Configuration Package for R — Rydra-package"><meta name="description" content="Rydra allows you to define complex calculation configurations in YAML files,
including transformations, conditional logic, and model parameters. It then
provides functions to use these configurations to perform calculations on
input data."><meta property="og:description" content="Rydra allows you to define complex calculation configurations in YAML files,
including transformations, conditional logic, and model parameters. It then
provides functions to use these configurations to perform calculations on
input data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">Rydra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html">Home</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/pricing-model.html">Simple Pricing Model</a></li>
    <li><a class="dropdown-item" href="../articles/insurance-risk-model.html">Insurance Risk Model</a></li>
    <li><a class="dropdown-item" href="../articles/clinical-trial-patient-selection.html">Clinical Trial Patient Selection</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Rydra: A Lite, Hydra-Inspired Configuration Package for R</h1>

      <div class="d-none name"><code>Rydra-package.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Rydra allows you to define complex calculation configurations in YAML files,
including transformations, conditional logic, and model parameters. It then
provides functions to use these configurations to perform calculations on
input data.</p>
    </div>


    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Key Functions:</p><ul><li><p><code><a href="load_config.html">load_config</a></code>: Loads a YAML configuration file.</p></li>
<li><p><code><a href="rydra_calculate.html">rydra_calculate</a></code>: Performs calculations based on a loaded
    configuration and input data.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># 1. Create a YAML configuration file (e.g., "my_model_config.yaml")</span></span></span>
<span class="r-in"><span><span class="co">#    similar to the structure shown in the package documentation or vignettes.</span></span></span>
<span class="r-in"><span>   <span class="va">config_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"example_config.yaml"</span>, package <span class="op">=</span> <span class="st">"Rydra"</span><span class="op">)</span></span></span>
<span class="r-in"><span>   <span class="kw">if</span> <span class="op">(</span><span class="va">config_path</span> <span class="op">==</span> <span class="st">""</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>     <span class="co"># Fallback for when not installed, e.g. during dev</span></span></span>
<span class="r-in"><span>     <span class="co"># Assuming current dir is package root</span></span></span>
<span class="r-in"><span>     <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="st">"inst/extdata/example_config.yaml"</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>         <span class="va">config_path</span> <span class="op">&lt;-</span> <span class="st">"inst/extdata/example_config.yaml"</span></span></span>
<span class="r-in"><span>     <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>         <span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"Example config not found. Ensure package is built or path is correct."</span><span class="op">)</span></span></span>
<span class="r-in"><span>     <span class="op">}</span></span></span>
<span class="r-in"><span>   <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 2. Prepare your input data as a list or single-row data frame</span></span></span>
<span class="r-in"><span><span class="va">input_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  biochemical_ga    <span class="op">=</span> <span class="fl">12</span>, <span class="co"># weeks</span></span></span>
<span class="r-in"><span>  weight            <span class="op">=</span> <span class="fl">70</span>, <span class="co"># kg</span></span></span>
<span class="r-in"><span>  age               <span class="op">=</span> <span class="fl">30</span>, <span class="co"># years</span></span></span>
<span class="r-in"><span>  plgf_machine      <span class="op">=</span> <span class="fl">1</span>,  <span class="co"># Corresponds to 'Delfia' in example config</span></span></span>
<span class="r-in"><span>  race              <span class="op">=</span> <span class="fl">1</span>,  <span class="co"># e.g., Caucasian/Other</span></span></span>
<span class="r-in"><span>  smoking           <span class="op">=</span> <span class="fl">0</span>,  <span class="co"># 0 for No, 1 for Yes</span></span></span>
<span class="r-in"><span>  diabetes_type_i   <span class="op">=</span> <span class="fl">0</span>,  <span class="co"># 0 for No, 1 for Yes</span></span></span>
<span class="r-in"><span>  diabetes_type_ii  <span class="op">=</span> <span class="fl">0</span>,  <span class="co"># 0 for No, 1 for Yes</span></span></span>
<span class="r-in"><span>  conception        <span class="op">=</span> <span class="fl">1</span>,  <span class="co"># e.g., 1 for Spontaneous, 3 for IVF</span></span></span>
<span class="r-in"><span>  previous          <span class="op">=</span> <span class="fl">0</span>   <span class="co"># e.g., 0 for Nulliparous</span></span></span>
<span class="r-in"><span>  <span class="co"># ... any other variables required by your config's transformations or conditions</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 3. Perform the calculation</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">config_path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="rydra_calculate.html">rydra_calculate</a></span><span class="op">(</span>config_path <span class="op">=</span> <span class="va">config_path</span>, data <span class="op">=</span> <span class="va">input_data</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Calculated result:"</span>, <span class="va">result</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Could not find example_config.yaml"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example of accessing the config directly</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">config_path</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">my_config</span> <span class="op">&lt;-</span> <span class="fu"><a href="load_config.html">load_config</a></span><span class="op">(</span><span class="va">config_path</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="co"># print(my_config$plgf_model$reference_paper)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Anders Hagen Jarmund.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

